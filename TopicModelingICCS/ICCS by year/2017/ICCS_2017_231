Available online at www.sciencedirect.com

ScienceDirect
This
This
This
This

Procedia
108C
(2017) 978–987
space
is Computer
reservedScience
for the
Procedia
header,
space is reserved for the Procedia header,
space is reserved for the Procedia header,
space is reserved for the Procedia header,

do
do
do
do

not
not
not
not

use
use
use
use

it
it
it
it

International Conference on Computational Science, ICCS 2017, 12-14 June 2017,
Zurich, Switzerland

Role
Role
Role
Role

of
of Behavioral
Behavioral Heterogeneity
Heterogeneity in
in Aggregate
Aggregate Financial
Financial
of
Behavioral
Heterogeneity
in
Aggregate
Financial
Market
Behavior:
An
Approach
Market
Behavior:
An Agent-Based
Agent-Based
Approach
of
Behavioral
Heterogeneity
in Aggregate
Financial
Market
Behavior:
An
Agent-Based
Approach
Yasaman
KamyabAn
Hessary,
Mirsad Hadzikadic
Market
Behavior:
Agent-Based
Approach
Yasaman
Kamyab Hessary,
Mirsad Hadzikadic
Yasaman Kamyab
Hessary,
Mirsad Hadzikadic
Complex
System Institute
Complex
Systemand
Institute
YasamanCollege
Kamyab
Hessary,
Mirsad
Hadzikadic
of Computing
Informatics
of Carolina
Computing
and
Informatics
Complex
System
Institute
UniversityCollege
of North
at Charlotte,
Charlotte,
Universityykamyabh@uncc.edu,
of North
atmirsad@uncc.edu
Charlotte,
Charlotte,
College
of Carolina
Computing
and
Informatics
Complex
System
Institute
Universityykamyabh@uncc.edu,
of North
atmirsad@uncc.edu
Charlotte,
Charlotte,
College
of Carolina
Computing
and Informatics
Universityykamyabh@uncc.edu,
of North Carolina atmirsad@uncc.edu
Charlotte, Charlotte,
ykamyabh@uncc.edu, mirsad@uncc.edu

NC.
NC.
NC.
NC.

Abstract
Abstract
In this paper, an agent-based model of stock market is proposed to study the effects of cogAbstract
In
thisprocesses
paper, anand
agent-based
stock market
is proposed to study
the effects
cognitive
behaviorsmodel
of theoftraders
(e.g. decision-making,
interpretation
of ofpublic
Abstract
In thisprocesses
paper, anand
agent-based
model
oftraders
stock market
is proposed to study
the effects
ofpublic
cognitive
behaviors
of
the
(e.g.
decision-making,
interpretation
of
information and learning) on the emergent phenomena of financial markets. In financial marIn
thisprocesses
paper,
anand
agent-based
model
stock
market
isofproposed
to
study
the
effects
cognitive
behaviors
of emergent
theoftraders
(e.g. decision-making,
interpretation
of ofpublic
information
and
learning)
on
the
phenomena
financial
markets.
In
financial
markets, psychology and sociology of the traders play a critical role in giving rise to unique and
nitive
processes
and
behaviors
of
the
traders
(e.g.
decision-making,
interpretation
of
public
information
and learning)
on the emergent
phenomena
of financialinmarkets.
In financial
kets,
psychology
and sociology
traders
playThis
a critical
giving
uniquemarand
unexpected
(emergent)
macroscopic properties.
study role
suggests
that rise
localtointeractions,
information
and learning)
on the
phenomena
of financial
In to
financial
kets, psychology
and sociology
of emergent
theproperties.
traders
playThis
a critical
role
inmarkets.
giving
rise
uniquemarand
unexpected
(emergent)
macroscopic
study
suggests
that
local
interactions,
rational and irrational decision-making approaches and heterogeneity, which has been incorpokets,
psychology
and sociology
of theproperties.
traders
playThis
a critical
role
in giving
to
unique
and
unexpected
(emergent)
macroscopic
study
suggests
that rise
local
interactions,
rational
and
irrational
decision-making
approaches
and
heterogeneity,
which
has
been
incorporated into different aspects of agent design, are among the key elements in modeling financial
unexpected
(emergent)
macroscopic
properties.
This
study
suggests
that
local
interactions,
rational
and
irrational
decision-making
approaches
and the
heterogeneity,
which
has been financial
incorporated
into
different
aspects
of of
agent
design,
are
among
key elements
involatility
modeling
markets.
When
heterogeneity
the strategies
used
by the agents
increases,
clustering
rational
and
irrational
decision-making
approaches
and
heterogeneity,
which
has beenclustering
incorporated into
different
aspects
of of
agent
design,
are
among
the
key elements
involatility
modeling
financial
markets.
When
heterogeneity
the
strategies
used
by
the
agents
increases,
and excess kurtosis arises in the model, which is in agreement with real market fluctuations.
rated
into
different
aspects
of
agent
design,
are
among
the
key
elements
in
modeling
financial
markets.
When
heterogeneity
of the strategies
usedinbyagreement
the agentswith
increases,market
volatility
clustering
and
excess
kurtosis
arises in the
fluctuations.
To evaluate
the effectiveness
and model,
validitywhich
of theis approach,
a series ofreal
statistical analysis
was
markets.
When
heterogeneity
of the
strategies
used
the agents
increases,
volatility
clustering
andevaluate
excess
kurtosis
arises in the
model,
which
is approach,
inbyagreement
with
real
market
fluctuations.
To
the
effectiveness
and
validity
of
the
a
series
of
statistical
analysis
conducted to test the artificial data with respect to a benchmark provided by the Bankwas
of
and
excess to
kurtosis
arises
in the
model,
which
intoagreement
withofreal
market
fluctuations.
To evaluate
the
effectiveness
anddata
validity
ofrespect
theis approach,
a series
statistical
conducted
test
the
artificial
with
aof benchmark
by analysis
the that
Bankwas
of
America (BAC)
stock
over
a sufficiently
long
period
time. The provided
results revealed
the
To
evaluate
effectiveness
and
validity
ofrespect
the
approach,
a series
of
statistical
conducted
tothe
test
the over
artificial
data
withlong
to aof benchmark
provided
by analysis
the that
Bankwas
of
America
(BAC)
stock
a
sufficiently
period
time.
The
results
revealed
the
model was able to reproduce and explain some of the most important stylized facts observed
conducted
to
test
the
artificial
data
withlong
respect
to aof
benchmark
byfacts
the observed
Bankthe
of
America
(BAC)
stock
over
a and
sufficiently
period
time.
The provided
results
revealed
that
model
was
able
to
reproduce
explain
some
of
the
most
important
stylized
in actual financial time series and was consistent with empirical observations.
America
(BAC)
stock
over
a
sufficiently
long
period
of
time.
The
results
revealed
that
the
model
wasfinancial
able to time
reproduce
explain
some ofwith
the empirical
most important
stylized facts observed
in
actual
series and was
consistent
observations.
Keywords:
Agent-based
modeling,
heterogeneity,
decision-making,
financial
market,
emergent
property
model
wasfinancial
able toPublished
reproduce
and
explain
some
ofwith
the empirical
most important
stylized
facts observed
in 2017
actual
time
series
was
consistent
observations.
©
The
Authors.
by Elsevier
B.V.
Keywords: Agent-based modeling, heterogeneity, decision-making, financial market, emergent property
Peer-review
under responsibility
of the
scientific
committee ofwith
the International
on Computational Science
in actual financial
time series
and
was consistent
empirical Conference
observations.
Keywords: Agent-based modeling, heterogeneity, decision-making, financial market, emergent property
Keywords: Agent-based modeling, heterogeneity, decision-making, financial market, emergent property

1
1 Introduction
Introduction
1
Solid Introduction
understanding of the behavior of financial markets and its participants is extremely imSolid
understanding
of health
the behavior
of financial
and
itsplays
participants
extremely
im1
Introduction
portant
to the general
and efficiency
of anmarkets
economy
and
a criticalis role
in today’s

Solid understanding
of health
the behavior
of financial
and
itsplays
participants
extremely
important
the of
general
and in
efficiency
of the
anmarkets
economy
and
criticalis role
in today’s
societies.toOne
the key
elements
studying
behavior of
financialamarkets
is determining
Solid
understanding
of
the
behavior
of
financial
and
its
participants
extremely
important
toOne
the of
general
health
and in
efficiency
of the
anmarkets
economy
and
plays
amarkets
criticalis role
in today’s
societies.
the
key
elements
studying
behavior
of
financial
is
determining
and interpreting the origins of their statistical properties, otherwise known as stylized facts.
portant
to
the
general
health
and
efficiency
of
an
economy
and
plays
a
critical
role
in
today’s
societies.
One of the key
elements
in studying
the
behavior of
financial markets
determining
and
origins
of their
properties,
as is
stylized
facts.
This interpreting
investigation makes
it possible
tostatistical
analyze the
influence otherwise
of differentknown
trader’s
characteristics
societies.
One of the
key
elements
intostudying
the
behavior
of
financial
markets
determining
and interpreting
origins
of their
statistical
properties,
otherwise
known
as is
stylized
facts.
This
investigation
makes
it
possible
analyze
the
influence
of
different
trader’s
characteristics
on various market phenomena and their emergence.
and
interpreting
the
origins
ofand
their
properties,
as characteristics
stylized facts.
This
investigation
makes
it possible
tostatistical
analyze
the
influence otherwise
of differentknown
trader’s
on
various
market
phenomena
their
emergence.
The field of behavioral finance, which is rapidly expanding, observes finance from a broad
This
investigation
makes
it finance,
possible
to analyze
the influence of different
trader’s
characteristics
on various
market
phenomena
and their
emergence.
The
field
ofperspective.
behavioral
is rapidly
financerational,
from a broad
social
science
Viewing which
financial
market expanding,
participantsobserves
as boundedly
adapon
various
market
phenomena
and
their
emergence.
Thescience
field ofperspective.
behavioral Viewing
finance, which
is rapidly
expanding,
observes
financerational,
from a broad
social
financial
market
participants
as
boundedly
adaptive agents leads to a world of complexity. Agent-based modeling (ABM), which is the approach
The
field
ofperspective.
behavioral
finance,
which
is rapidly
financeis
from
a broad
social
science
financial
market expanding,
participants
as boundedly
rational,
adaptive
agents
leads
to a world Viewing
of complexity.
Agent-based
modeling observes
(ABM),
which
the approach
social
science
perspective.
financial
market participants
as boundedly
rational,
adaptive agents
leads
to a world Viewing
of complexity.
Agent-based
modeling (ABM),
which is
the approach
1
tive agents leads to a world of complexity. Agent-based modeling (ABM), which is the approach
1
1877-0509 © 2017 The Authors. Published by Elsevier B.V.
1
Peer-review under responsibility of the scientific committee of the International Conference on Computational Science
1
10.1016/j.procs.2017.05.254

	

Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic
Yasaman Kamyab
Hessary
et al. Behavior
/ Procedia Computer Science
108C (2017)
978–987

followed in this work, is a flexible methodology for simulating such complex systems and their
behaviors [13]. With ABM, financial markets can be modeled form bottom up, taking into
consideration the evolution and interaction of the agents in an incremental fashion. Among
the agent-based financial market models in literature, two-type models are the simplest kind
with respect to heterogeneity. In such models, financial agents follow two general belief systems:
fundamental and technical. Fundamentalists make decisions assuming that the price of an asset
returns to its fundamental value in the long run, while chartists are mainly concerned about
the trends and patterns observed in the past prices. Evidence for existence of these two types
of traders in real markets can be traced back to the survey data gathered by Frankel and Froot
[8]. The consistent findings from the data indicated that investors tend to use chartist trading
rule at short horizons, while using fundamentalist approach at longer horizons.
Zeeman’s model [15] was one of the first agent-based models of stock market with fundamentalist and chartist traders, and a large number of literature was developed following the
lead of him. He proposed a qualitative description of the stylized facts observed in short-term
bull and bear markets. Although the model included several behavioral elements that are
used as base for other financial market modelings, it lacked micro details. The study done by
Gilli and Winker [9] showed that to have a better characterization of financial markets models,
traders should be able to switch between different trading strategies than to simply assuming
that the ratio of fundamentalists over chartists remains constant over time. The approach of
stressing evolution and switching between fundamentalists and chartists, taken by Hommes [2],
Lebaron [10] and Westerhoff [14], has proven to be quite successful. Although being able to
reproduce some of the most important stylized facts of financial markets, they do not consider
local interactions and heterogeneity within the two general belief systems.
The aim of this study is to investigate the effects of rational and irrational decision-making
process and social interaction on overall market dynamics and the emergent of certain key
stylized facts. In order to achieve this goal, a simple yet rich and flexible agent-based model of
stock market is developed. In a first attempt to model this complex system, the methodology
of two-type design suggested by Westerhoff [14] is followed. This method, being the simplest
kind of heterogeneity, allows for a better tractability of the model’s parameters and a less
complicated validation process. However, in order to gain additional explanation power and
a closer representation of real financial markets, further heterogeneity is incorporated as the
model proceeds. The objective is to satisfy the two essential agent design principals, simplicity
and heterogeneity by a well-defined scheme and parameter space.
The proposed model differs from the original model and other related works in the approach that is taken to model heterogeneity, interaction and learning behavior of the agents.
Related research limits heterogeneity through only a few elements of two general agent types,
fundamentalists and chartists. They also capture learning and interaction through switching
mechanism, in that the overall population of fundamentalists and chartists is set due to the
realized profit associated with their forecasting rules. On the other hand, the novelty of the
approach used in this work is that, while consistent with other two-type design frameworks,
it builds heterogeneity into different aspects of agent design, making each fundamentalist and
chartist unique within the two general types. Also, the method to model learning and evolution
is through local interactions. At each time step, financial agents exchange information with
their surrounding neighbors. They either compare strategy profits and change their tactic accordingly, or blindly choose to follow the most popular trading decision in their neighborhood,
regardless of its utility and their own private information. This method helps gaining a broader
global insight to trading strategies and evolution of the agents.
In this work, heterogeneity is modeled through several key parameters: a) Agents with dif-

2

979

980	

Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic
Yasaman Kamyab
Hessary
et al. Behavior
/ Procedia Computer Science
108C (2017)
978–987

ferent reaction intensities to price and fundamentals changes, b) The initial wealth distribution
among the agents, c) Agents with different levels of sophistication in their decision-making
process, and d) Agents with different memories who use different trading time windows.
The reminder of this paper is organized as follows: Section 2 describes the proposed agentbased model framework and agent implementation details. The results of the conducted simulations along with statistical analysis on the time-series are presented in Section 3. Section 4
presents summary and conclusions.

2

The Agent-Based Model

The model describes daily stock trading with only one risky asset of the price pt at time t. There
is a fixed number of N traders in the market, scattered randomly across a pseudo-landscape
grid of square cells. Each trader can interact with the traders on its eight neighboring patches.
At the beginning of each simulation, all traders are endowed with different amount of cash
drawn from a power law distribution. It was first observed by Pareto [12] that the income
distribution across several countries follows a power law. Later, it was discovered that wealth
is also distributed according to a power law [7], which implies rather extreme wealth inequality.
The probability density function that describes the Pareto distribution is of the form:
W (x) = x−(1+α)

(1)

where, α is the Pareto exponent, which measures the level of wealth inequality and was estimated by him as α = 1.5. In this model, the same power law distribution is used to initially
endow each agent with a different amount of money, in agreement with human population.
At each time step t, traders can choose between three actions, buy or sell one unit of the
stock, or remain inactive. Traders can pick any of two general belief systems, technical or
fundamental trading rules at the start of each trading period.
Market maker. At the end of each trading day, the market maker sets the price according
to observed excess demand. Following Day and Huang [5], a simple price adjustment scheme
based on the aggregated excess demand is used as,
pt+1 = pt ∗ (1 + a ∗ (Dt − St )) + δ

(2)

where, a is a positive coefficient, which can be explained as the speed of price adjustment. Dt
and St are the number of buy and sell orders at time t, respectively. Since this model only
provides a simple representation of real financial markets, a random term, δ (a normal, IID
noise process with zero mean and constant standard deviation σδ ) is also added to the equation
to account for unknown facts, contributing to price change.
Fundamentalists. Fundamentalists make decisions with the assumption that in the long run,
price of an asset returns to its fundamental value. In this model, fundamentalists are assumed
to know the intrinsic value of the stock and they only buy (sell) when the observed price is
below (above) that value.
The fundamental value of the asset Ft is publicly available to all traders. It is assumed that
the fundamental price of the risky asset is given exogenously as a random walk process:
Ft = Ft−1 + η

(3)

where, Ft−1 suggests that yesterday’s value of stock is carried into the future and η is a IID noise
process with zero mean and constant standard deviation ση , added to take the fundamental
shocks into account.
3

	

Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic
Yasaman Kamyab
Hessary
et al. Behavior
/ Procedia Computer Science
108C (2017)
978–987

At the beginning of the simulation, a unique coefficient (0 < f < 0.1) drawn from a Gaussian
distribution is assigned to every fundamentalist. This element characterizes the belief of each
fundamentalist and specifies the speed with which each agent expects the price to return to
its fundamental value. By providing traders with different coefficients, every fundamentalist
becomes unique in their beliefs and decision-making process, as practiced in real world markets.
In the special case of f = 1, they expect the price to return to its fundamental value immediately,
while f = 0 means that they naively anticipate that the price follows a random walk. With
this being said, their expectation of the next period price can be written as:
Etf [pt+1 ] = pt + f ∗ (Ft − pt ) + τ

(4)

where, pt is the current price. A random variable τ (a normal, IID noise process with zero
mean and constant standard deviation στ ) is included in the equation to account for diversity
and uncontrollable elements.
Furthermore, granted that fundamentalists trade less frequently than chartists, a threshold
K is introduced. Fundamentalists become active only if the difference between the current price
and the price they expect for the next period is above such threshold.
Chartists. Chartists make decision based on the trends and patterns they observe in the past
prices. They basically buy when price rises and sell when it falls. They extrapolate and predict
the price change rate to be proportional to the latest observed change. To extend chartists to a
more heterogeneous and factual setting, a memory parameter is introduced. Therefore, instead
of just looking at the last time step price, they have the option to look further into the past in
order to choose their next move. Each chartist can be made unique by having different memory
lengths drawn randomly from a uniform distribution. The memory parameter is taken into
account by each chartist calculating an Exponentially Weighted Moving Average (EWMA) of
the past prices:
T
(1 − φ)i−1 pt−i
(5)
M At = φ
i=1

where, 0 < φ < 1 is a smoothing parameter and T is the memory length of the agent. Using this
formulation, the psychological bias of law of small numbers is abided, which implies that people
put much more weight on recent events as oppose to long-term averages [3]. As φ increases, the
weight given to the recent prices further increases.
At the beginning of the simulation, each chartist is assigned a unique extrapolating coefficient (0 < c < 0.1) drawn from a Gaussian distribution. This factor measures the sensitivity of
chartists to price change, which is different for every agent and introduces further heterogeneity
for this group. The chartist’s expectation of the next period price can be written as:
Etc [pt+1 ] = pt + c ∗ (pt − M At ) + β

(6)

where, pt − M At indicates the trend. The random term β is a noise process (a normal, IID
noise process with zero mean and constant standard deviation σβ ) that captures the diversity
and uncontrollable elements in technical analysis.
It should be noted that, the weight φ ∗ (1 − φ)i−1 in (5) controls the M At and normalizes
the average value. The weight of past prices fades by (1 − φ) at each time step, making the total
area of the weight sequence upper bounded by 1. Meanwhile, the parameter φ is chosen with
respect to T in order to make the area bellow the weights close to 1. The approximation error
is projected in β parameter in (6), which is restricted to sufficiently small range with respect
to p. Hence, the sign of trend value (pt − M At ) is merely based on the current and previous
values of p and the weights chartists put on past prices.
4

981

982	

Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic
Yasaman Kamyab
Hessary
et al. Behavior
/ Procedia Computer Science
108C (2017)
978–987

2.1

Social Interactions and Adaptation

The approach used to model social interactions and learning among agents is based on local
interactions. This study suggests that by taking local social interactions among heterogeneous
agents into account, the key elements that affect the overall market dynamics can be addressed.
The attractiveness of each trader’s rule is represented by past myopic profitability of the rules
and can be formalized as:
f
Stf = (exp[pt ] − exp[pt−1 ]) ∗ (f ∗ (Ft − pt ) + τ ) + mSt−1

(7)

c
Stc = (exp[pt ] − exp[pt−1 ]) ∗ (c ∗ (pt − pt−1 ) + β) + mSt−1

(8)

where, Stf and Stc are the fitness of fundamentalist and chartist trading strategies, respectively.
In order to account for the past performance of each rule, a memory parameter m is used. As
mentioned before, each agent is assigned a unique memory length T at the beginning of the
simulation. m is the normalization of T to [0, 1]. m = 1 results in the fitness to be the sum
of all past observed profits, while m = 0 indicates that agent has no memory and the fitness
equals the current profit.
At the beginning of each trading day, agents meet and exchange information with their
neighbors. Given the uniqueness of each fundamentalist and chartist, the average utility associated with each type in the neighborhood is calculated and compared. Since agents can only
choose between two rules, the switching process is modeled using a binary choice model, in
particular, the logit model [11]. The following formula is the probability that an agent chooses
fundamental over chartist trading rule:
P (X = f ) =

exp[λS̄tf ]
exp[λS̄tf ] + exp[λS̄tc ]

(9)

where, λ is the intensity of choice, which measures how quickly agents switch if there are
additional profits gained from choosing fundamental over chartist trading rule. If λ = 0, there
is no switching between strategies, while for λ = +∞ all agents immediately switch to the most
profitable strategy.
Imitation. In this model, an imitation component is introduced to account for the herding
behavior observed in real markets and documented by a number of studies (e.g. [6]). Such
behavior arises when traders observe the choices of others and, regardless of their private information and knowledge, start to imitate them. To model this process, an imitation threshold,
γ is defined. The trader will change his action (buy/sell) if less than γ percent of its neighbors
chose the action similar to him. The incentive behind an investors decision to discard his own
beliefs and information to follow the crowd varies by different factors. For example, while trying
to maximize their profit, traders may anticipate that others know something about the return
on investment that they do not. An investor may think that the action of others reveals true
information about the value of an asset, so they start imitating them. On the other hand, there
are less sophisticated reasons behind herding, such as the intrinsic need of individuals to match
their beliefs and behaviors to group norms.

3

Simulation Results and Discussion

The Bank of America (BAC) daily stock price is used as benchmark for calibration and validation of the model. The data covers the period between May 1986 to February 2015 and is
5

	

Yasaman Kamyab
Hessary
et al.Behavior
/ Procedia Computer Science
108C (2017)
978–987
Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic

Parameter
Value
Number of traders (N )
1000
Price adjustment (a)
0.2 × 10−4
Fundamentalists activation threshold (K)
[2%,5%]
Pareto exponent for wealth (power law) distribution (α )
1.5
Initial cash distribution
[30, 100]
Imitation switch threshold (γ)
10%
EWMA smoothing parameter (φ )
[0.3,0.99]
Reaction coefficient (c)
N (µc : 0.05, σc : 0.04)
Reverting coefficient (f )
N (µf : 0.04, σf : 0.04)
Standard deviation of random factor in fundamental price process (ση )
0.026
Standard deviation of random factor in price process (σδ )
0.025
Standard deviation of random factor in fundamental trading (στ )
0.01
Standard deviation of random factor in technical trading (σβ )
0.05
Intensity of choice (λ)
100
Memory of traders (T )
U (1,50)
Normalized memory (m)
[0,1]
Table 1: Parameters of the stock market model
collected from the [1]. For each simulation run, 7000 observations are generated, which corresponds to a time span of about 29 years. Different settings of agent’s behavioral rules have
been studied and calibrated in order to reproduce some of the most important stylized facts in
the market such as:
• Fat-tails in distribution of stock returns: One of the most common stylized facts observed
in financial time series is the fat tail of the returns [4]. The distribution of high frequency
returns in most cases is not normal and exhibits a heavy tail with positive excess kurtosis,
meaning there is higher density on the tails of the distribution in comparison to the tails
density under the normal distribution.
• Volatility clustering: One of the stylized facts presented in financial time series, which
describes the fact that high-volatile events tend to cluster in time. Empirical analysis
on financial markets reveals that different measures of volatility display a positive autocorrelation over several days [4]. A common proxy for volatility is given by the absolute
return.
Table 1 presents the values attributed to the parameters used in the simulation. The values
are set so as to produce results that are numerically close to empirical findings. Initially, BAC
time series is analyzed in order to gain insight into statistical characteristics of financial time
series. Next, a series of simulation experiments is conducted in order to reveal the influence
of trader’s characteristics on various emergent market phenomena, along with validating the
general approach.

3.1

BAC Time Series Analysis

Initially, the stationarity of BAC price time series is examined. Non-stationary data are unpredictable; therefore they cannot give us meaningful sample statistics and correlations with other
variables. Figure 1 shows the daily development of price for BAC stock. The series appear to
6

983

984	

Yasaman Kamyab
Hessary
et al.Behavior
/ Procedia Computer Science
108C (2017)
978–987
Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic

Figure 1: Time series of BAC price.
Type
Zero Mean for BAC price
Zero Mean for BAC return

Lags
0
1
0
1

Figure 2: Time series of BAC return.
Rho
-0.0703
-0.0784
-7150.46
-6803.75

P < Rho
0.6671
0.6653
0.0001
0.0001

Tau
-0.09
-0.10
-84.09
-58.31

P < Tau
0.6529
0.6497
<.0001
<.0001

Table 2: Augmented Dickey-Fuller unit root test for BAC time-series
have an obvious upwards trends. In non-stationary time series, the mean and variance change
over time and prices do not have tendency to come back towards their average, which appears
to be the case here. Following the standard econometric practice to examine for stationarity,
an augmented Dickey-Fuller unit root test is conducted on the price time series. The top two
rows of Table 2 provides the results, which tests the null hypothesis of non-stationarity. The
test statistics along with corresponding p-values indicate that the null hypothesis cannot be
rejected, which confirms that BAC price is in fact non-stationary.
In order to induce stationarity, first differences of logs of the price series, also know as the
stock returns, are derived as:
rt = ln[pt ] − ln[pt−1 ]
(10)
Figure 2 shows the plot of stock returns for BAC time series. They appear to have constant
mean and variance change over time. The Dickey-Fuller test is repeated on the return time
series and the results are presented in the bottom two rows of Table 2. The p-value of zero-mean
test statistic rejects the null hypothesis that the series are non-stationary.
Statistical analysis of BAC returns presented in Figure 3 and Table 4 have been used as
a benchmark for testing the stylized facts in the model generated time series. The quantilequantile or q-q plot in Figure 3a compares the distributions of the BAC returns against a
standard normal distribution. Notice that the returns distribution is non-normal at the tails
of the distribution. The fat tails of the returns can also be confirmed from the coefficient of
excess kurtosis in Table 4. Excess kurtosis of 26.81 is a clear indication of the existence of fat
tails in the distribution of returns. Figure 3b examines the presence of volatility clustering in
the market and demonstrates the autocorrelation of absolute returns in BAC. The dotted blue
lines indicate the 95 percent confidence intervals. It should be noted that the absolute returns
exhibit a slow decay of the autocorrelation, and even stay positive for more than 100 lags. This
is a clear sign of volatility clustering and can be observed in many real world financial markets.

3.2

Fundamentalists and Chartists Characteristics

In the first series of simulations, different parameters related to agent’s intensity of choices is
explored. At this point, no blind imitations take place in the market and no fundamentalist
7

	

Yasaman Kamyab
Hessary
et al. Behavior
/ Procedia Computer Science
108C (2017)
978–987
Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic

(a) The q-q plot for normality comparison

(b) The autocorrelation plot for absolute returns

Figure 3: Normality and volatility clustering test results for BAC returns.
Type
Zero Mean for model price
Zero Mean for model return

Lags
0
1
0
1

Rho
1.3832
1.5068
-8657.28
-12486.6

P < Rho
0.9588
0.9681
0.0001
0.0001

Tau
1.63
2.25
-106.19
-78.95

P < Tau
0.9755
0.9946
0.0001
<.0001

Table 3: Augmented Dickey-Fuller unit root test for model time-series

(a) The q-q plot for normality comparison

(b) The autocorrelation plot for absolute returns

Figure 4: Normality and volatility clustering test results for model returns
threshold (K) is assigned to agents. In other words, fundamentalists buy (sell) one unit of stock
as soon as the price goes below (above) the price they expect for tomorrow. Each chartist is
assigned a unique memory length (T ) drawn randomly from a uniform distribution between
one and fifty days. The coefficient φ is chosen between 0.3 and 0.99 for memory length of
50 and 1, respectively, and interpolated for values between. Moreover, the model is tested
with different distributions of fundamentalist mean-reverting (f ) and chartists extrapolating
(c) coefficients. Note that these two parameters are in fact the intensity of agents trust in their
trading approaches and from previous studies such as [9] and [14], it can be interpreted that
their daily value is between 0 and 0.1.
Table 3 and Figure 4 present the Dickey-Fuller test results and return analysis of the most
successful simulation run with respect to generating time series close to empirical observations.
As shown in Table 3, with c ∼ N (0.05, 0.04) and f ∼ N (0.04, 0.04), the model time series are
non-stationary in their levels and stationary in their first difference, which supports the empirical finding described in Section 3.1. Figure 4a illustrates the q-q plot of the returns. Notice that
the points have fallen very closely on the straight line, indicating that the distribution of returns
is approximately normal. It can also be seen from the coefficient of excess kurtosis, which is
0.1611, that there are close to no fat tails in the distribution of returns. Figure 4b demonstrates
the autocorrelation of absolute returns in the model generated stock returns. Notice that there

8

985

986	

Yasaman Kamyab
Hessary
et al. Behavior
/ Procedia Computer Science
108C (2017)
978–987
Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic

(a) The q-q plot for normality comparison

(b) The autocorrelation plot for absolute returns

Figure 5: Normality and volatility clustering test results for model returns with K threshold

(a) The q-q plot for normality comparison(γ=10%) (b) Autocorrelation for absolute returns(γ=10%)

Figure 6: Normality and volatility clustering test results for model returns with imitation
is positive autocorrelation, but not strong enough to conclude that volatility clustering exists.
In the next simulation, different thresholds for fundamentalists activation have been tested
while keeping the other settings of the model unchanged. This is in agreement with real-world
market traders, where the frequency at which fundamentalists trade is not as often as chartists
or trend followers. The results have shown that the volatility clustering could be achieved when
2% ≤ K ≤ 5%. As it can be seen in Figure 5, the distribution of the returns deviates from
normality more than the case of no threshold. However, with the excess kurtosis of 1.6, the
distribution still does not exhibit fat tail phenomenon.

3.3

Imitation Threshold

In order to achieve the heavy tail in distribution of returns, an imitation component is incorporated in the decision-making process of the agents. Traders will disregard their information to
follow the decision of their neighbors if less than γ percent of their neighbors chose the action
similar to them. A series of simulations with different imitation thresholds were conducted. As

Imitation threshold
0%
10%
20%

Mean
0.002741375
0.001765
0.002606003
Mean
0.000115

Model
Variance
0.006604403
0.022508
0.006716744
BAC
Variance
0.000711

Skewness
0.1632367
0.642002
0.3010834

Excess Kurtosis
1.603394
3.425388
2.893328

Skewness
-0.359977

Excess Kurtosis
26.81

Table 4: Basic statistics of stock returns for model and BAC

9

	

Role of Heterogeneity in Aggregate
Financial
Market
Y. Kamyab
Hessary,
M. Hadzikadic
Yasaman Kamyab
Hessary
et al.Behavior
/ Procedia Computer Science
108C (2017)
978–987

illustrated in Figure 6 and Table 4, the case where γ = 10% shows a more accurate replication
of real financial markets and in this case, falls closer to the behavior of BAC. When γ = 10%,
agents follow their neighbors if more than 90% of them are choosing differently than them.

4

Conclusions

In this work, an agent-based model of the stock market has been developed. To allow for a
better tractability of the parameters, the model started with the simple setting of two-typed
design. As the work proceeded, further heterogeneity was incorporated in the model to provide
a more accurate representation of real financial markets and allow for investigation of market
phenomena under differing trading strategies and decision-making parameters like imitation.
The time series generated by the model coincide with two of the well-known features found
in real-world financial markets, fat-tailed distribution of returns and volatility clustering. This
study proposed that the imitation level of the agents along with the threshold at which fundamentalist trade influence the emergence of volatility clustering and heavy tailed returns distribution. Future studies could focus on using Artificial Intelligence techniques to model evolution
and learning and take advantage of real world communication network typologies.

References
[1] Yahoo finance.
[2] William A Brock and Cars H Hommes. Heterogeneous beliefs and routes to chaos in a simple asset
pricing model. Journal of Economic dynamics and Control, 22(8):1235–1274, 1998.
[3] Shu-Heng Chen, Chia-Ling Chang, and Ye-Rong Du. Agent-based economic models and econometrics. The Knowledge Engineering Review, 27(02):187–219, 2012.
[4] Rama Cont. Empirical properties of asset returns: stylized facts and statistical issues. 2001.
[5] Richard H Day and Weihong Huang. Bulls, bears and market sheep. Journal of Economic Behavior
& Organization, 14(3):299–329, 1990.
[6] Andrea Devenow and Ivo Welch. Rational herding in financial economics. European Economic
Review, 40(3):603–615, 1996.
[7] Adrian Drăgulescu and Victor M Yakovenko. Exponential and power-law probability distributions
of wealth and income in the united kingdom and the united states. Physica A: Statistical Mechanics
and its Applications, 299(1):213–221, 2001.
[8] Jeffrey A Frankel and Kenneth A Froot. Using survey data to test some standard propositions
regarding exchange rate expectations, 1985.
[9] Manfred Gilli and Peter Winker. A global optimization heuristic for estimating agent based models.
Computational Statistics & Data Analysis, 42(3):299–312, 2003.
[10] Blake LeBaron. Agent-based computational finance. Handbook of computational economics,
2:1187–1233, 2006.
[11] R Duncan Luce. Individual choice behavior: A theoretical analysis. Courier Corporation, 2005.
[12] Vilfredo Pareto. Cours d’économie politique, volume 1. Librairie Droz, 1964.
[13] Egle Samanidou, Elmar Zschischang, Dietrich Stauffer, and Thomas Lux. Agent-based models of
financial markets. Reports on Progress in Physics, 70(3):409, 2007.
[14] Frank H Westerhoff. The use of agent-based financial market models to test the effectiveness of
regulatory policies. Jahrbücher für Nationalökonomie und Statistik, 228(2-3):195–227, 2008.
[15] E Christopher Zeeman. On the unstable behaviour of stock exchanges. Journal of mathematical
economics, 1(1):39–49, 1974.

10

987

