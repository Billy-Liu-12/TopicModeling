Available online at www.sciencedirect.com

Procedia
Computer
Science

Procedia Computer Science 4 (2011) 1870–1879
Procedia Computer Science 00 (2011) 000–000

www.elsevier.com/locate/procedia

International Conference on Computational Science, ICCS 2011

An Agent-Based Decision Support System for Hospitals Emergency
Departments *
Manel Taboadaa, Eduardo Cabrerab, Ma Luisa Iglesiasc,
Francisco Epeldec, Emilio Luqueb **
a

Tomas Cerda Computer Science School , University Autonoma of Barcelona(UAB), Spain
b
Computer Architecture and Operating Systems Department (CAOS), UAB, Spain
C
Hospital of Sabadell,Consorci Sanitari Parc Taulí, Barcelona, Spain

Abstract
Modeling and simulation have been shown to be useful tools in many areas of the Healthcare operational management, field in
which there is probably no area more dynamic and complex than hospital emergency departments (ED). This paper presents the
results of an ongoing project that is being carried out by the Research Group in Individual Oriented Modeling (IoM) of the
University Autonoma of Barcelona (UAB) with the participation of Hospital of Sabadell ED Staff Team. Its general objective is
creating a simulator that, used as decision support system (DSS), aids the heads of the ED to make the best informed decisions
possible. The defined ED model is a pure Agent-Based Model, formed entirely of the rules governing the behavior of the
individual agents which populate the system. Two distinct types of agents have been identified, active and passive. Active agents
represent human actors, meanwhile passive agents represent services and other reactive systems. The actions of agents and the
communication between them will be represented using Moore state machines extended to include probabilistic transitions. The
model also includes the environment in which agents move and interact. With the aim of verifying the proposed model an initial
simulation has been created using NetLogo, an agent-based simulation environment well suited for modeling complex systems.
Keywords: Healthcare operational management, agent-based modelling, individual oriented simulation, emergency department, decision support
systems.

1. Introduction
Healthcare is one of the most important services in modern civilization. In a hospital there are many complex,
independent, but interrelated departments [1]. The Emergency Department (ED) may well be one of the most
complex and fluid healthcare systems that exists, consuming a large portion of economic budgets for health services.
However, patients often feel neglected and that the service is saturated. The activity of ED is not linear, It varies
depending on time, day of week and season. For this reason resource planning of ED is complex. The ability to
simulate special situations such as seasonal increases in ED demand can be useful for the efficient use of resources.
The simulation of complex systems is of considerable importance and is used in a broad spectrum of fields such

* This research has been supported by the MICINN Spain, under contract TIN2007-64974
**E-mail addresses: manel.taboada@eug.es (Manel Taboada), ecabrera@caos.uab.es (Eduardo Cabrera),Emilio.luque@uab.es (Emilio
Luque), MIglesias@tauli.cat (Ma Luisa Iglesias), epelde@comb.es (Francisco Epelde).

1877–0509 © 2011 Published by Elsevier Ltd. Open access under CC BY-NC-ND license.
Selection and/or peer-review under responsibility of Prof. Mitsuhisa Sato and Prof. Satoshi Matsuoka
doi:10.1016/j.procs.2011.04.203

Manel Taboada et al. / Procedia Computer Science 4 (2011) 1870–1879
M. Taboada et al../ Procedia Computer Science 00 (2011) 000–000

1871

as engineering, biology, economy and health care. There are no standard models to describe these complex systems,
but they share many common traits. Agent-Based Modeling (ABM) is an efficient and well utilized technique for
simulating this kind of systems. Some of the advantages that offers are an increased detail in experiments based in
simulation, a transparent learning process, and the ability to control and easily modify individual behavior.
This paper presents the results of an ongoing project that is being carried out by the Research Group in Individual
Oriented Modeling (IoM) of the University Autonoma of Barcelona (UAB), with the participation of the ED Staff
Team of the Hospital of Sabadell. Its general objective is to develop a simulator that, used as decision support
system (DSS), aids the administrators and heads of the ED to allow additional knowledge of patient admission
scheduling, physician staff, resource optimization, and decreased patient waiting time, amongst other situations.
Following Macal and North [2], and also making use of the considerable expertise existing within the IoM
research group, a concrete and continuous development methodology has been devised for the construction of the
tool, applying an iterative & spiral process. Each cycle involves 5 phases (system analysis; model design; simulator
implementation; simulator execution and results analysis; simulator validation). Once an initial cycle is completed,
based on the conclusions obtained during the analysis and validation phase, the model is updated and a new cycle is
carried out. The process will be repeated until the objectives are achieved.
Through the first cycle it has started the design of an Agent-Based Model for Hospital Emergency Departments,
in which all rules within the model concern the agents, no higher level behavior is modeled. The System behavior
emerges as a result of local level actions and interactions. This model describes the complex dynamics found in an
ED, representing each individual and system as an individual agent. Two distinct kinds of agents have been
identified, active and passive. Active agents represent the individuals involved in the ED, in this case all human
actors, such as patients and ED Staff (admission staff, nurses, doctors, etc). Passive agents represent services and
other reactive systems, such as the information technology (IT) infrastructure or services used for performing tests.
State machines are used to represent the actions of each agent. This takes into consideration all the variables that
are required to represent the many different states that such individual (a patient, a member of hospital staff, or any
other role) may be in throughout the course of their time in a hospital emergency department. The change in these
variables, invoked by an input from an external source, is modeled as a transition between states. The
communication between individuals is modeled as the Inputs that agents receive and the Outputs they produce, both
implicitly and explicitly. In order to control the agent interaction, the physical environment in which these agents
interact also has to be modeled, being sufficient do it as a series of interconnected areas, such as admissions, triage
box, the waiting room, or consultation suits.
The remainder of this article is organized as follows; section 2 describes the related and previous work. The
proposed emergency department model is detailed in section 3, while the results of an initial simulation are given in
section 4. In section 5 the future work is pointed out. Finally, section 6 closes this paper with conclusions.
2. Related and previous work
The modeling and simulation of hospital emergency departments sits at the intersection of a number of distinct
fields. In addition Agent-based techniques have been used in the modeling of healthcare operational management,
but there are few pure agent-based models to be found in the literature that have been rigorously validated against
their real world counterparts.
Economics, biology, and social sciences are the three fields in which agent-based models are most utilized [3].
Modeling techniques using agents can bring the most benefit when applied to human systems where agents exhibit
complex and stochastic behavior, the interaction between agents are heterogeneous and complex, and agent
positions are not fixed [4]. In the particular case of social sciences ABMs are used in situations where human
behavior cannot be predicted using classical methods such as qualitative or statistical analysis [5]. Human behavior
is also modeled with ABMs in the fields of psychology [6] and epidemiology [7] amongst others.
Agent technology is a useful tool when applied to healthcare applications. Previous works modeling healthcare
systems have focused on patient scheduling under variable pathways and stochastic process durations [8], the
selection of an optimal mix for patient admission in order to optimize resource usage and patient throughput [9].
Work has been performed using differing degrees of agent-based modeling for evaluating patient waiting times
under the effects of different ED physician staffing schedules [10] or patient diversion strategies [11].
The proposal of the project addresses many of the issues surrounding the modeling and simulation of a hospital

1872 	

Manel Taboada et al. / Procedia Computer Science 4 (2011) 1870–1879
M. Taboada et al../ Procedia Computer Science 00 (2011) 000–000

emergency department using agent-based technologies. In an attempt to understand micro level behavior, the basic
rules governing the actions of the individual agents are defined. The macro level behavior, which means the system
as a whole, emerges as a result of the actions of these basic building blocks, from which can be derived an
understanding of the reasons of the behavior at the system level[12].
Comparing the general objectives of the Project presented in this paper with the previous works, two potential
improvements may be underlined. In one hand the generality of the model, which means the possibility of applying
the model and the tool in different Hospital ED, after adjustments of the configuration parameters achieved through
the tuning process that will be described after. In the other hand the variety and typology of agents are richer. The
variety of patients in this model is higher and closer to the reality than the models found in the previous works. In
addition the model includes ED Staff (admission staff, sanitarian technicians) and devices (Information System
Infrastructure, radiology services, laboratory tests, etc) that aren't considered in the consulted works, and finally it
takes into account different levels of expertise in the ED Staff. Undoubtedly all these elements may affect the length
of stay of patients in the emergency department.
3. Emergency department model
The Emergency Department model defined in this work is a pure Agent-Based Model, formed entirely of the
rules governing the behavior of the individual agents which populate the system. Through the information obtained
during interviews carried out with ED staff at the Hospital of Mataro (a hospital of medium size) and the Hospital of
Sabadell (one of large size), two kinds of agents have been identified; these are active and passive agents. The active
agents represent people and other entities that act upon their own initiative: 1) patients; 2) relatives of patients (who
have a special relevance in dependent patients like kids, elderly, etc.); 3) admission staff (who receive patients just
when they arrive to the Emergency Department); 4) sanitarian technicians (who help certain patients to move from
one place to another of the ED); 5) triage and emergency nurses (the former receive patients after their admission
for establishing their priority level. The second involved in the diagnosis and treatment phase); 6) and doctors (of
two kinds, staff emergency doctors and medical specialties consultants).
The passive agents represent systems that are solely reactive, such as the loudspeaker system, patient information
system, pneumatic pipes, and central diagnostic services (radiology service and laboratories). This section is
dedicated to describe the various components of the general model in detail. Section 3.1 explains the manner in
which active agents are modeled. Passive agents are discussed in section 3.2. The communication model is defined
in section 3.3. Finally in section 3.4 the details of the environment where the agents move and interact are outlined.
3.1

Active Agents

Active agents are described by state machines, specifically Moore machines. A Moore machine has an output for
each state; transitions between states are specified by the input. The current state of an active agent is represented by
a collection of “state variables”, known as the state vector (T). Each unique combination of values for these
variables defines a distinct state. As described below, in each time step the state machine moves to the next state as
defined by the current state and the input vector.
3.1.1

State variables

In order for the state machine works, all state variables must be enumerable in some manner. This may be
discrete variables or variables representing continuous quantities which have been divided into ranges. As shown
Table 1, an initial set of state variables has been defined through the round of interviews performed, based on the
minimum amount of information required to model each patient and member of staff. Such initial set of state
variables are:
 Name/identifier: for identifying each individual
 Personal details: this variable collects the information of the individual that is relevant in relation with his stay
in the ED, such as age, medical history, origin, etc.
 Location: the area of the ED where the individual currently is. The kind of active agents (specifically the ED
Staff) who may stay in it and also the kind of interactions that may occur are different in each ED area.
 Action: what the individual is doing in a particular state. The actions will be different depending on the agent
and the place where such agent is. Actions normally have a duration, and thus will influence the total length of

Manel
Taboadaetetal../
al. /Procedia
ProcediaComputer
ComputerScience
Science00
4 (2011)
M. Taboada
(2011) 1870–1879
000–000

1873

the patient's stay in the Emergency Department.
 Physical condition: variable used to collect the information that let ED Staff to identify the patient’s disease.
Obviously this variable only makes sense for the agent "patient".
 Symptoms: Information reported by the patient, and classified by ED staff following the Canadian relevant
triage and acuity scale. The priority level with which the patient must be attended will be identified through
the information collected in this variable.
 Communication skills: the time spent during the process depends on the agent’s ability to communicate. This
variable makes sense for both, patients and ED staff.
 Level of experience: that only makes sense for ED Staff. The processing time required by the Staff to complete
his tasks will depend on his/her experience.
Table 1. Initial selection of state variables and their values
Variables

Values

Name/identifier <id>

Unique per agent

Location <location>

Entrance; admissions; waiting room; triage box; Consultancy Room; Treatment Box; ...

Action

Idle; requesting information from <id>; giving information to <id>; searching; moving to <location>

Physical condition

Hemodynamic-constant; Bartel index (sample)

Symptoms

Healthy; cardiac/respiratory arrest; severe/moderate trauma; headache; vomiting; diarrhoea; (sample)...

Communication skills

Low; medium; high

Level of experience (ED Staff)

None; Low; medium; high.

Some of the state variables will have a potentially very large set of possible values, e.g. the symptoms or physical
condition. Both the variables and their possible values must be improved in future work.
3.1.2 Inputs, outputs & state transitions
Upon each time step the state machine moves to the next state. This may be another state or the same one it was
in before the transition. The next state the machine takes is dependent on the input during that state. The input may
be more accurately described as an input vector (I) that contains a number of input variables, each one of which may
take a number of different values. As this is a Moore machine, the output depends only on the state, so each state has
its own output, although various states may have outputs that are identical. Again, the output is more accurately
described as an output vector (O), a collection of output variables, each with a number of defined possible values.
Transitions between states are dependent on the current state at time t (St) and the input at time t (It).
Current state /
Output
S0 / O0
S0 / O0
S0 / O0
….
Sx / Ox
Sx / Ox
….

Input
I0
I1
I2
….
I0
I1
….

Next state /
Output
Si / Oi
Sj / Oj
Sk / Ok
….
Sy / O y
Sz / Oz
….

Fig. 1. (a) State transition graph; (b) State transition table

The state machine will be in a new state (St+1) following the transition. The state machine can be represented as
a diagram (shown in figure 1 (a)), but also in form of a state transition table, as shown in figure 1 (b), where each
row represents a unique state input combination, showing the output and the state in the next time step (defined by
the current state and the input).
3.1.3 Probabilistic state transitions
In dynamic and complex systems such as EDs, there exists the necessity of a model not entirely deterministic. In
these cases a state machine can be modeled with more than one possible next state given a current state and input
combination. Which transition is made is chosen randomly at the time of the transition; weights on each transition
provide a means for specifying transitions that are more or less likely for a given individual. Each one of the input

1874 	

Taboada
al. / Procedia
Computer
4 (2011)
1870–1879
M. Manel
Taboada
et al../ et
Procedia
Computer
ScienceScience
00 (2011)
000–000

variable of the input vector (I) may take a number of different values. In these cases the state transition table is
defined with probabilities on the “effect” of the input, as shown in figure 2(b). An agent in state SX receiving input Ia
may move to either state Sy, state Sz, or remain in the same state, with a probability of p 1, p2, and p3 respectively.
One of these transitions will always occur, which is to say p 1 + p2 + p3 = 1. The state diagram would then have three
different transitions for the “current state-input” combination of this specific example, as shown in figure 2(a).
Current state / Output

Input

Next state / Output

-Sx / Ox
Sx / Ox
Sx / Ox
--

-Ia(p1)
Ia(p2)
Ia(p3)
--

-Sy / Oy
Sz / Oz
Sx / Ox
--

Fig. 2. (a) Probabilistic state transition graph; (b) Probabilistic state transition table

The exact probabilities may be different for each agent, in this way agent behavior can be probabilistically
defined external to their state, representing personality characteristics in different people.
3.2 Passive agents
Passive agents represent services within the hospital system such as the IT infrastructure (that allows to store
patient details), radiology services and other laboratory tests as well as specialist systems such as the pneumatic tube
networks that some larger hospitals use to quickly transfer samples from one part of a building to another.
In some of this kind of agents the state machine will be a simple system for interacting with active agents. The
model is not, however, purely a state machine. In order to represent data storage or other systems that may have a
very large number of combinational states a simple memory model will be used. A passive agent may (although it is
not necessary) have a simple record based memory system, allowing it to store and repeat information provided by
active agents.
3.3 Communication model
The interaction between agents is carried out through communication. Such communication is modeled as the
Input that agents receive and the Outputs that they produce. Both, Inputs and Outputs may be explicit and implicit.
The communication model represents three basic types of communication: 1) 1-to-1, between two individuals (the
message has a single source and a single destination, as happens between admission staff and patient, during the
admission process); 2) 1-to-n, representing an individual addressing to a group (like a doctor giving information to
patient and nurses during the diagnostic process); 3) and 1-to-location, when an individual speaks to all occupants
of a specific area (for instance when any staff member uses the speaker system to address a message to all the
people who are in a specific waiting room).
Implicit or passive communication also exists, where an agent may be producing communication just be
remaining in a certain area. This is the manner in which agent vision, what each agent sees, can be represented using
the same model. An agent is continuously emitting messages with regard to its visible physical status and location,
other agents receive these 1-to-location messages and may act upon them in certain circumstances. For instance an
agent waiting for another agent in a certain area will receive communication that the agent has entered and act upon
it, representing, for instance, a nurse seeing a patient enter a triage room and attending them.
Messages are divided in three parts. The message source is the individual who is communicating, speaking in
many cases. The message destination would then be to whomever this individual is speaking to, and thirdly the
content, what is being said. These three parts make up the message tuple (<src>, <dst>, <content>). In the case of a
1-to-location message, the destination of the message is an entire location, so the content may need to include the
actual indented recipient of the message (for example a patient’s name being called over the loudspeaker system).
3.4 Environment
All actions and interactions modeled take place within certain locations, collectively known as the environment.
The environment itself can be defined in two different levels depending on the positional precision required of the
model: at a low or high granularity scale. The former implies to divide the space into a few general areas, where all

Manel Taboada et al. / Procedia Computer Science 4 (2011) 1870–1879
M. Taboada et al../ Procedia Computer Science 00 (2011) 000–000

1875

agents in the same area may freely interact. The second requires more precise positioning, using physical Cartesian
co-ordinates. In the specific case of the Emergency Department it is enough use a low granularity positioning scale,
although it is important to represent distances between distinct areas, to correctly model travel times from one area
to another.
The different areas identified through the information obtained during the interviews carried out are: Admissions
(where patients have to address just when they arrive to the ED, and Admission Staff register their arrival); Triage
Box (where a “triage nurse” receives the patient, takes his/her vital signals and obtains some additional information
in order to identify the priority level); Waiting Room (where patients and their companions wait for being triaged,
and once they have past the triage process, until be called to enter the treatment zone); diagnostic and treatment zone
(where Doctors, nurses and other ED Staff carry out the diagnostic and treatment process with patients). Figure 3
shows a representation of topographical distribution of the Emergency Department.

Fig. 3. Simplified emergency department layout

The environment in which the agents move and interact is passive and discrete. There is little distinction made
between agents in the same location. A patient in the waiting room does not have any more specific sense of
position than they are in the waiting room. Certain locations may be physically distinct, but functionally identical,
for instance there are usually a number of triage rooms, an agent in any one of these will act as if they are in any
triage room, however they Simplified ED layout are distinct in order to represent that each available room may only
be used by one nurse-patient group at a time. The environment also contains representations of the relative distances
between different discrete locations.
4. Initial simulation
With the aim of verifying the proposed model designed in the first cycle, an initial simulation has been created
using the agent-based simulation environment NetLogo [13], a high level platform particularly well suited for
modeling complex systems developing over time [14]. NetLogo lets modelers give instructions to hundreds or
thousands of independent agents, all operating concurrently, what makes possible to explore connection between the
micro-level behavior of individuals and the macro-level patterns that emerge from the interaction of many
individuals. NetLogo also allows visualizations of agent actions and interactions, a very important aspect
considering that a primary use of the tool is to garner feedback from the staff who works in ED.
The scenario adopted for this initial experiment is to simulate patients moving through a simplified Emergency
Department that includes four primary areas: admissions, triage (with a maximum of 3 boxes), 2 waiting rooms (one
for patients before triage, and the second for patients who have passed the triage process, and are waiting for
treatment), and the diagnosis and treatment area (that include four boxes). The types of active agents represented in
this simulation are patients, admission staff (AS), triage nurses (TN), and doctors (D). In the case of the ED Staff,
two distinct levels of experience have been considered (low, labeled as junior, and high, labeled as senior). Less
experienced staff will need more time to carry out his/her part of the process than the most experienced one. Such
time is internally set by modeler through the programming language, but the user can define easily both, the number
of each type of ED staff and their level of experience using a “console of configuration”. With the purpose of
making a preliminary demonstration of how accurate a simulation can be produced using only reduced parameters, a
simplified set of patient attributes and a less complicated patient flow have been defined. Patient arrives to the

1876 	

Manel Taboada et al. / Procedia Computer Science 4 (2011) 1870–1879
M. Taboada et al../ Procedia Computer Science 00 (2011) 000–000

Emergency Department by their own means, and waits to be attended in the Admission Zone. Once the admission
process has been carried out, the patient stays in a first Waiting Room (WR) until he is called by triage nurse. After
the triage process patient goes to a different WR and stays there until a doctor is free and calls him to start the
process of diagnosis and treatment. Once such process is completed, the patient leaves the ED. Therefore patients
are shown following the same path through the ED, even though in reality they are treated differently depending on
the level of severity of their condition. The time spent at treatment stage may also represent laboratory tests, which
are not shown explicitly. In the real system the arrival of patients to the ED vary depending on time, day of week
and season, but in this experiment a constant pattern has been considered due to the unavailability of detailed data of
the real system. This means that the patient arrives to the ED after a certain time step which can be easily defined by
user through the “console of configuration” mentioned above. Figure 4 shows a static view of the user interface.

Fig. 4. Simulation display in Netlogo

Netlogo stores information about all what happens during the running, and lets modeler to create reports with all
kind of information which can be exported and treated with statistical and data mining tools. In this initial
experiment the report has been designed for including information about the number of patients that have arrived to
the ED during the running, the amount of patients that have completed the process, and the time that each patient
have spent in each one of the ED zones (absolute values, mean, minimum, maximum and standard error).
In order to analyze the behavior of the simulator in front of the variables that have influence in the ED, the
simulation has been executed several times for the equivalent to one day of activity. In a first exercise the amount of
patients who arrive to the ED has been changed, maintaining invariable the mix of ED Staff (1 AS, 2 TN and 4 D,
all of them with a Junior profile). Table 2 shows the results obtained. As expected, an increase in the probability of
patient's arrival causes an increase of the number of patients who arrive to the ED. Due to the resources don't
change, the system becomes saturated (gradual increase of the average time spent in the service, of the waiting times
at the WR1 and WR2, and of the number of patients waiting to be attended at the end of execution). In the first 2
cases (20% and 40% of probability) patients are attended without doing any queue and there are idle resources (staff
members who do not attend to any patient during the execution). In the third case it starts to generate some waiting
time, although it is insignificant. By contrast, for a patient’s arrival probability of the 80%, the average waiting time
in WR1 is nearly an hour, and 2.44 in WR2, and there is a significant number of patients who remain in the Waiting
Table 2. Results obtained with a invariable mix of ED Staff, for a increasing arrival of patients
A-Total patients arrived to the ED
B-Total patients who completed the process during the running
For patients who have completed the process
C-Average of total time of stay in ED (in hours)
D-Average of total time of stay in WR 1 (in hours)
E-Average of total time of stay in WR 2 (in hours)
F-Patients in WR1 when execution finalize
G-Patients in WR2 when execution finalize

20%
93
90

40%
190
184

60%
284
271

80%
397
270

0,54
0,00
0,00
0
0

0,54
0,00
0,00
0
0

1,08
0,04
0,52
1
8

3,95
0,98
2,44
46
74

1877

Manel Taboada et al. / Procedia Computer Science 4 (2011) 1870–1879
M. Taboada et al../ Procedia Computer Science 00 (2011) 000–000

Room without being treated at the end of the execution.
A second exercise has been carried out for analyzing the effects caused by the change in the level of experience
of ED staff over the throughput of the system. To do this both the probability of patient’s arrival (80%) and the
number of ED staff (1 AS, 1 TN and 2 D) have been kept invariable, and a total of 12 executions have been done,
one for each of the possible combinations by changing the level of experience. The results are shown in table 3. First
column identifies the execution, the following 6 columns inform of the experience of the ED staffs, and the last 7
columns (A to G) correspond to the results, using the same kind of information detailed in the first column of Table
2 (A-patients who arrived to the ED; B- patients who completed the process during the execution; etc.).
Table 3. Results obtained with a variable experience of ED Staff, for an invariable arrival of patients
AS

1
2
3
4
5
6
7
8
9
10
11
12

Jr
1
1
1
1
1
1

TN

Sr

Jr
1
1
1

D

Sr

1
1
1
1
1
1
1
1
1

1
1
1

Jr
2
1
2
1
2
1

1
1
1

2
1

Sr
1
2
1
2
1
2
1
2

A
397
411
384
404
394
409
400
382
397
420
389
404

B
135
157
172
136
159
182
135
157
172
136
159
182

C
7,8
7,35
6,71
8,26
7,29
6,82
8,17
7,06
6,95
8,38
7,33
6,52

D
4,83
5,94
6,27
2,72
2,9
3,55
5,21
5,67
6,49
2,85
2,94
3,27

E
2,45
0,93
0
5,4
3,96
2,87
2,44
0,93
0
5,06
3,96
2,87

F
222
236
209
160
129
165
225
207
222
176
145
160

G
37
14
0
105
82
59
38
14
0
105
82
59

Considering the total number of patients and the time of stay in the ED, the combination of worse outcomes is
that in which all staff have a junior profile (execution 1, with a total of 135 patients attended, and an average time of
stay in the service of 7.8 hours) and the best one is that in which all the staff have a senior profile (execution 12,
with 182 patients and 6.52 hours), representing an increase 37% of treated patients and a 16.02% reduction in the
attention time. A special mention has the execution number 6, which provides results very similar to the best one (it
equals the number of patients, although the total time is 18 minutes bigger). Analysis of the data also lets conclude
that the system is more sensitive to changes in the doctors’ experience that in the rest of the ED staff. Finally, to
reduce the average waiting time and the number of patients staying in the WR1, should improve the experience of
triage nurses, without changing of the admissions staff. The same goes for the WR2, but in this case improving the
experience of doctors without altering the experience of the triage nurses.
A final experiment has been done for analyzing the effects caused by the change in the amount of ED staff over
the throughput of the system. In this case the level of experience of ED staff keeps invariable (1 AS, 1 TN and 2 D).
A total of 11 executions have been done, one for each of the possible combinations by changing the number of staff
members, having into account that the staff number in one ED area should be equal or bigger that the number in the
previous area. Results are shown in table 4, whose structure is similar than table 3. The worst combination is the
execution with the lowest number of professionals (execution 1, with a total of 135 patients attended and an average
time of 7.8 hours) and the best one is that with the maximum number of staff members (execution 11, with 271
patients and 3.8 hours). The increase of 5 professionals (1 AS, 2 TN and 2 D), generates a 100% increase in the
number of treated patients, and a 51.28% reduction in the average time of stay. Due to the relative increase is higher
in the staff of triage area, the results improve in WR1 (waiting time is zero, and there are no patient at the end of
execution), but worse in the WR2 (number of patients waiting increase from 37 to 128, and the average waiting time
from 2.45 hours to 3.27).
Executions 2 and 7 give similar results to those obtained in the 1, but using a bigger number of professionals. In
the executions 4, 6 and 9 the number of treated patients are the same that in the execution 11, but using fewer
professionals. However the average time of stay in the ED is higher (9 minutes in executions 4 and 9, and 32
minutes in the implementation 6). Considering these results, and the saving of resources, it can be concluded that the
execution 4 is the most optimal combination of the 11.

1878 	

Manel Taboada et al. / Procedia Computer Science 4 (2011) 1870–1879
M. Taboada et al../ Procedia Computer Science 00 (2011) 000–000

Table 4. Results obtained with a variable number of ED Staff, for a invariable arrival of patients
1
2
3
4
5
6
7
8
9
10
11

AS
1
1
1
1
1
1
2
2
2
2
2

TN
1
2
2
2
3
3
2
2
2
3
3

D
2
2
3
4
3
4
2
3
4
3
4

A
397
399
398
397
397
406
382
404
390
389
406

B
135
135
203
271
203
271
135
203
271
203
271

C
7,8
8,2
5,8
4
6,1
4,3
7,6
6,3
4
5,7
3,8

D
4,8
0,7
0,6
1
0
0
0,3
1
1
0
0

E
2,5
7
4,7
2,4
5,6
3,8
6,8
4,7
2,4
5,2
3,3

F
222
48
48
46
0
0
36
53
40
0
1

G
37
212
143
75
188
128
207
143
77
181
128

Considering the results obtained in the 3 experiments, it can be concluded that the gradual increase in the number
of ED staff and the improving of their experience cause a gradual growth in the number of patients treated. In
addition, to minimize waiting times in the different WR, it is important a balanced distribution of both, the number
of different kinds of ED staff, and their level of experience. So staff shortages can be partly solved involving staff of
higher experience. These results can’t be compared with the real system because the data of such system were not
available yet in the moment of writing this paper. Although there is further validation to be performed, these initial
experiments show very promising results about its usefulness to support the decision making process.
5. Future work
Following the iterative & spiral process discussed in the introduction, after this first cycle, the work will continue
with the purpose of improving the model and the simulation, applying assimilation techniques for that. The second
cycle of the project has just begun while this paper was being written. In it has been incorporated the variety of
patients with diseases that must be treated with a different priority level, and also with a distinct "diagnosis and
treatment process". The admission and triage phases of the first cycle reflect in a proper way the behaviour of the
real system. However, the phase of diagnosis and treatment must be improved substantially. Without being the final
version, in this second cycle will start such improvement. In particular new ED staff (nurses and sanitarian
technicians) and other changes concerning to how the process takes place are incorporated.
After being called, the patient will enter to the assigned "Treatment Box", in which will remain until the process
is completed. ED Staff will move to the proper Box when the patient should be attended. There are some tests, such
as X-ray tests, which involve a shift of patients to the area where are located the devices needed for their realization.
In this second cycle the simulation will not display such movement, neither the interactions that take place during
the realization of the test, but the tool will take into account the estimated time needed to complete the process
through an internal variable. The changes described cause a readjustment in the distribution of the "diagnosis and
treatment zone" (increase of the number of "treatment boxes"; inclusion of a medical area where doctors and nurses
will stay during idle time). With these improvements the time that patients remain in the "diagnosis and treatment
zone" incorporates both, the time required for the interaction with doctors and nurses, and the time needed for
carrying out the tests that must be practiced according to the patient's specific pathology. As a result, the simulation
realism increases.
In the next cycles new agents and state variables will be included gradually, those whose inclusion causes a
significant improvement in the behaviour of the simulator, comparing it with the real system. After this, the
simulator will be tuned with a specific Hospital (real system) through data assimilation techniques. Input data from
such Hospital (time and number of patients' arrival, number and kind of ED Staff, etc) will be introduced in the
simulator, and parallel simulations with different parameters will be performed in order to make the proper
adjustments, based on the comparison of the results obtained in such simulations with output data from real system.
Results obtained concerning to time of stay of patients in each part of the ED, number of patients treated, etc, will be
compared in order to identify if the similarity between them (simulator and real system) achieves the requested
level. The parameters of the simulation that let to achieve the best similarity level will be selected and incorporated
to the simulator. Once this has been done, its predictive power will be tested using again data from the Hospital, this
time corresponding to a different moment. Once more, results obtained through the simulation will be compared

Manel Taboada et al. / Procedia Computer Science 4 (2011) 1870–1879
M. Taboada et al../ Procedia Computer Science 00 (2011) 000–000

1879

with data from real system for identifying its similarity level and if the predictive ability of the simulator achieves
the proper degree. In case that so be it the simulator will be used as DSS, with the objective of answering “what if...”
questions for aiding healthcare managers to make the best informed decisions possible. The simulator will let to
divine what will happen to the system as a whole if one or more changes are made to the parameters that define it.
Before to use the simulator as DSS in a different Hospital ED the tuning process described above should be
carried out (obviously with data from such Hospital) in order to ensure its proper adjustment and its predictive
ability in relation to this specific Hospital. This readjustment process lets to achieve the generality of the tool.
The distribution pattern of patients’ arrival to the ED varies depending on time, day of week and season. For this
reason, and having into account the objectives of the project, is desirable to run simulations for an annual period of
time. In addition, as a result of the potential number of individuals and also the number of states in the state machine
of each individual, a great amount of values should be computed. Considering also the parallel simulations that will
have to be performed during the tuning process, High Performance Computing will have to be used.
6. Conclusions
A concrete example of an Agent-Based Model for Hospital Emergency Departments has been presented, which
represents a hospital ED following system analysis performed at a number of different hospitals, under the advice of
healthcare professionals with many years of experience. The model uses state machine based agents which act and
communicate within a defined environment, providing the ability to study the dynamic of complex systems without
the difficulty of obtaining exhaustive system descriptions required by other modeling paradigms. An initial
simulation has been created in order to verify the validity of the model.
Future improvements of the model will be carried out in initial stages adding gradually new agents and state
variables. In the next stages parallel simulations with different parameters will be performed, and after comparing
data from simulation and real system, adjustments in the model will be made in order to achieve both, a proper
similarity level, and an enough predictive power of the simulator. This will require applying parallelization
techniques and High Performance Computing.
From this point, the simulation will be able to be used as the core component of a decision support system to aid
hospital administrators make better use of resources, achieving a more efficient and improved patient care cycle.
This in turn will allow better management of dynamic patient flow, either as a result of specific circumstances or
seasonal fluctuation.
References
1. K. Decker, J. Li, Coordinated hospital patient scheduling, in: ICMAS ’98: Proceedings of the 3rd International. Conference on Multi Agent
Systems, IEEE Computer Society, Washington, DC, USA, 1998, p. 104.
2. C. Macal, M. North, Tutorial on agent-based modeling and simulation part 2: how to model with agents, in: Proceedings of the Winter
Simulation Conference, 2006, pp. 73–83.
3. B. Heath, R.Hill, F.Ciarallo, A survey of agent-based modeling practices (january 1998 to july 2008), Journal of Artificial Societies and
Social Simulation 12 (4) (2009) 9.
4. E. Bonabeau, Agent-based modeling: Methods and techniques for simulating human systems, Proceedings of the National Academy of
Sciences 99 (2002) 7280–7287.
5. E. Norling, L. Sonenberg, R. Rönnquist, Enhancing multi-agent based simulation with human-like decision making strategies, in: MABS,
2000, pp. 214–228..
6. E. R. Smith, F. R. Conrey, Agent-based modeling: A new approach for theory building in social psychology, Pers Soc Psychol Rev 11 (1)
(2007) 87–104.
7. J. M. Epstein, Modelling to contain pandemics, Nature 460 (7256) (2009) 687.
8. T.O. Paulussen, A. Zöller, A. Heinzl, L. Braubach, A. Pokahr, W. Lamersdorf, Patient scheduling under uncertainty, in: SAC’04:
Proceedings of the 2004 ACM symposium on Applied computing, ACM, New York, NY, USA, 2004.
9. A. K. Hutzschenreuter, P. A. N. Bosman, I. Blonk-Altena, J. van Aarle, H. La Poutr´e, Agent-based patient admission scheduling in
hospitals, in: AAMAS ’08: Proceedings of the 7th international joint conference on Autonomous agents and multiagent systems,
International Foundation for Autonomous Agents and Multiagent Systems, Richland, SC, 2008, pp. 45–52.
10.S. S. Jones, R. S. Evans, An agent based simulation tool for scheduling emergency department physicians, in: AMIA Annual Symposium
proceedings, AMIA Symposium, 2008, pp. 338–342.
11.M. Laskowski, S. Mukhi, Agent-based simulation of emergency departments with patient diversion, in: eHealth, 2008, pp. 25–37.
12. H. Stainsby, M. Taboada , E. Luque, Towards an agent-based simulation of hospital emergency departments, in: SCC’09: Proceedings of
the 2009 IEEE International Conference on Services Computing, IEEE Computer Society, Washington, DC, USA, 2009, pp.536-539
13. U. Wilensky, NetLogo. Center for Connected Learning and Computer-Based Modeling, Northwestern University Evanston, IL. 1999
14. R. Allan, Survey of Agent Based Modelling ans Simulation Tools, Computational Sience and Engineering Department, STFC Daresbury
Laboratory, Daresbury, Warrington, 2010, available on-line in : hhtp://193.62.125.70/Complex/ABMS/ABMS.html

