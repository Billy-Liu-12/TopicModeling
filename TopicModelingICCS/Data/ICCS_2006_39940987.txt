A Novel Method of Adaptive Repetitive Control
for Optical Disk Drivers
Kyungbae Chang and Gwitae Park
ISRL, Korea University,
1, 5ga Anam-dong Sungbuk-Gu 136-713 Seoul, South Korea
{lslove, gtpark}@korea.ac.kr
http://control.korea.ac.kr

Abstract. In optical disk drives, which support various speeds, it is not avoidable to have a varying periodic disturbance. However, it is still possible to control optical disk drives by using a controller which repeatedly control the drive
to change sampling frequency to follow the change of reference period. This
paper introduces an adaptive repetitive control method to attenuate the periodic
disturbances. The proposed adaptive repetitive control is built with two parts,
the repetitive controller and the frequency multiplier. The repetitive controller
uses a varying sampler operating at a variable sampling rate maintained at fixed
multiple times of the disturbance frequencies and the frequency multiplier generates the varying sampling frequencies based on the disturbance frequency.

1 Introduction
In this paper, an adaptive repetitive control that can accommodate the varying period
disturbance is proposed. Fig. 1 shows the block diagram of the proposed controller,
consisting of an actuator, a feedback compensator, an optical sensor, a frequency
multiplier, and a repetitive controller. In the diagram, e represents a tracking error, r is
a disturbance, and FG stands for the pulse generating signal which has an integer
numbers in each period. The pulse generating signal is generated by a spindle motor.
The frequency multiplier counts the number of periods of FG. This frequency multiplier produces the fixed number of cycles for each varying period of the FG signal.
The repetitive controller uses a generated sampling frequency per period. In the system, there is no need of adjusting sampling time, because the generated sampling
period is always synchronized with the period of the disturbance. The number of the
sampling point has the same value in case that the period is not considered. sw1 and
sw2 are the track search functions controlled by firmware. The details of the frequency multiplier, the repetitive controller, and the search operation are introduced in
the following sections.
1.1 Frequency Multiplier
Most optical disk driver systems have FG signals, generated by the spindle motor.
The FG signal has the integer numbers per each rotation period. The rotation period is
relative to the disturbance and the eccentricity period. In this paper, FG signals are
used to estimate the period of the disturbance signal. To generate multiple clocks by
V.N. Alexandrov et al. (Eds.): ICCS 2006, Part IV, LNCS 3994, pp. 987 – 990, 2006.
© Springer-Verlag Berlin Heidelberg 2006

988

K. Chang and G. Park

r

+
-

K

e

+

+

FG

C

P

+

sw1
+

e’

F1(z)z-N

F2

sw2

Sampling
frequency

FM

Fig. 1. Adaptive repetitive control system

using an FG signal, the period of the FG signal is estimated followed by dividing the
FG signal by integer number. In a digital system, a simple way of measuring the
duration of a signal is to count the number of pulses from a source at much higher
frequency than the measured signal. The higher frequency is used, the better accuracy
of the measurement can be achieved.
Fig. 2 illustrates the timing diagram of the frequency multiplier. The sampling
clock of this block is the fixed clock of the existing digital controller. Since the fixed
sampling frequency of the existing digital controller is an even higher frequency than
the FG signal, it is possible to generate multiple frequencies. This block counts the
duration between the rising edges, falling edges, or the edges of the FG signal with
the fixed frequency. The counted value is M, and M is divided by L which is the defined number of each period. Then the matched counter counts until the match
counter reaches the value of M/L, and this block generates the pulse. This pulse is the
varying sampling clock with the varying sampling frequency. So the N samples of the
repetitive controller are expressed as;
N = L × N FG

NFG is the number of FG signals in each rotation period. L is the defined data, the
number per the FG signal. The N samples always have the same number per each
period. In this case, the maximum error period Te of the generated sampling frequency
is expressed as;
Te =Ts × (L − 1)

If the sampling period Ts is small enough, the change of the controller’s sampling
times is small. For example, in case of Te=39.2uSec for Ts=5.6uSec, L=8, and 6.25
mSec of the disturbance period, the change deviation is 0.63%. So the effect of the
error period is not noticeable.
1.2 Adaptive Repetitive Controller
The previous period M of the FG signal is used instead of the current period M+ Δ .
When the current speed is changed into another speed, there is the difference between

A Novel Method of Adaptive Repetitive Control for Optical Disk Drivers

989

Fig. 2. Timing diagram of the Frequency Multiplier (FM)

the above two periods. Assume that we have a previously recorded waveform e(i) in
one revolution with N equally spaced samples per revolution, N=0 to N-1. Then e(i)
can be decomposed into sinusoidal components. The varying period disturbance can
be expressed as the following form:
e ( i ) = m sin( 2π f

i
+φ)
N

Where, m and φ are unknown amplitude and phase. According to the standard of
optical disks, m is usually less than 280um. In CAV mode, when the speed is changed
from 24x to 48x, the average change of the FG period is 1.25%. This indicates that the
difference between the previous period and the current one is 1.25%. The frequency
multiplier generates the sampling frequency per each pulse. The change deviation δ
between the edges is characterized by

δ=

TFG × 0.0125
(TFG = Tecc / N FG )
Tecc

Tecc is the period of the eccentric disturbance. For example, δ =0.14% for
Tecc=1.25mSec and NFG =9. Therefore, in practice, the system stability is possible to be
maintained without any change to the repetitive controller’s parameters in all cases.
For the repetitive control, it is very important to keep the control period synchronized to the signal period. The frequency multiplier generates the same number of
frequencies which has the pulse per each period and is synchronized to the periodic
disturbance. Then the repetitive controller is executed at the generated sampling frequency from the frequency multiplier. Hence there is no need to keep the control
period synchronized to the periodic disturbance.
In this paper, F1 is chosen as a band pass filter with linear phase characteristic in
center frequency. The filter F1 is a 3rd order filter. However, the band pass filter has
some of the phase in other frequencies. The sampling frequency of the filter F1 uses
the varying sampling frequency from the frequency multiplier. In digital filter, in case
of the coefficient having the same value, the phase characteristic is in proportion to
the sampling frequency. The characteristic is shown as following Fig. 3.

990

K. Chang and G. Park

(a) 80Hz (24x)

(b) 160Hz (48x)

Fig. 3. Gain, Phase characteristics of filter for band limitation

2 Conclusion
This paper introduces the control method of varying periodic disturbances for a trackfollowing servo system of an optical disk driver. An adaptive repetitive control is
proposed and implemented on the real optical disk driver system. The frequency multiplier is used to generate the adaptive sampling frequency and to exactly synchronize
the disturbance and the control period. The result of experiments verifies the effectiveness of the proposed adaptive repetitive controller.
A discrete system is built to track a variable periodic signal with varying sampling
time. The proposed adaptive repetitive control is useful enough to be applied to the
real world optical disk drive products.

References
1. Z.Cao and Gerard F. Ledwich. “Adaptive repetitive control to track variable periodic signals
with fixed sampling rate”, IEEE ASME Transactions on Mechatronics. Vol.7, No.3 Sep,
2002, pp378-384.
2. G.M Dotsch and Henk T. Smakman, "Adaptive Repetitive Control of a Compact Disc
Mechanism", the 34th Conference on Decision & Control, IEEE 1995, pp1720-1725.
3. T.Y.Doh, J.R.Ryoo, M.J.Chung “Repetitive controller design for track-following servo system of Optical Disk Driver”, IEEE AMC2002, 2002.
4. Gerard Ledwich, A. Bolton, “Tracking periodic inputs using sampled compensators” Proc.
Inst. Elect. Eng. Pt. D, vol. 138 no. 3, 1991.
5. Tadashi Inoue, "Practical repetitive control system design", 29th Conference on Decision
and Control, 1990, pp1673-1678 .
6. C.Cosner, G.Anwar, M.Tomizuka “Plug In Repetitive Control for Industrial Robotic Manipluators”, IEEE, 1990, pp1970-1975.
7. M.Tomizuka,T.Tsao, and K. Chew, “Discrete-Time Doman Analysis and Synthesis of Repetitive Controller”, Proc America of Control Conference, 1988, pp860-866.

